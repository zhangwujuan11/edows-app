(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/sales/bookInvoicing"],{776:function(e,t,s){"use strict";(function(e,t){var n=s(4);s(26);n(s(25));var i=n(s(777));e.__webpack_require_UNI_MP_PLUGIN__=s,t(i.default)}).call(this,s(1)["default"],s(2)["createPage"])},777:function(e,t,s){"use strict";s.r(t);var n=s(778),i=s(780);for(var r in i)["default"].indexOf(r)<0&&function(e){s.d(t,e,(function(){return i[e]}))}(r);s(782);var a,c=s(36),u=Object(c["default"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"6e78ce15",null,!1,n["components"],a);u.options.__file="pages/sales/bookInvoicing.vue",t["default"]=u.exports},778:function(e,t,s){"use strict";s.r(t);var n=s(779);s.d(t,"render",(function(){return n["render"]})),s.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]})),s.d(t,"recyclableRender",(function(){return n["recyclableRender"]})),s.d(t,"components",(function(){return n["components"]}))},779:function(e,t,s){"use strict";var n;s.r(t),s.d(t,"render",(function(){return i})),s.d(t,"staticRenderFns",(function(){return a})),s.d(t,"recyclableRender",(function(){return r})),s.d(t,"components",(function(){return n}));try{n={uniDatetimePicker:function(){return Promise.all([s.e("common/vendor"),s.e("uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker")]).then(s.bind(null,1136))},uniPopup:function(){return s.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(s.bind(null,1075))}}}catch(c){if(-1===c.message.indexOf("Cannot find module")||-1===c.message.indexOf(".vue"))throw c;console.error(c.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var e=this,t=e.$createElement,s=(e._self._c,e.list&&e.list.length>0);e.$mp.data=Object.assign({},{$root:{g0:s}})},r=!1,a=[];i._withStripped=!0},780:function(e,t,s){"use strict";s.r(t);var n=s(781),i=s.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){s.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a},781:function(e,t,s){"use strict";(function(e){var n=s(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(s(18)),r=n(s(11)),a=s(57),c=function(){s.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(function(){return resolve(s(1075))}.bind(null,s)).catch(s.oe)},u=function(){Promise.all([s.e("common/vendor"),s.e("uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker")]).then(function(){return resolve(s(1136))}.bind(null,s)).catch(s.oe)},o={components:{uniPopup:c,uniDatetimePicker:u},data:function(){var e;return e={indicatorStyle:"height: 50px;",value:[0],searchList:[],list:[],searchValue:"",allSelect:!1,selectList:[],currIndex:0,currIndex1:0,currIndex2:0,currSearch:"单据编号",currSearch1:"结算方式",currSearch2:"状态",status:"",statuList:["正常","提交"],range:["",""],searchTitle:"",params:{pageNum:1,pageSize:10},pageNum:1,pageSize:10,total:"",id:"",outWarehouseId:"",openIndex:"",paymentTerms:""},(0,r.default)(e,"status",""),(0,r.default)(e,"startDate",""),(0,r.default)(e,"endDate",""),(0,r.default)(e,"aa",!1),e},computed:{selectSum:function(){return this.selectList.length}},onLoad:function(){this.getList()},onReachBottom:function(){this.list.length==this.total?this.aa=!0:(this.pageNum++,this.getList())},methods:{getList:function(t,s){var n=this,r={pageNum:t||this.pageNum,pageSize:s||this.pageSize};switch(this.currSearch){case"单据编号":r.orderNo=this.searchValue;break;case"车牌号":r.plateNumber=this.searchValue;break;case"往来客户":r.customer=this.searchValue;break;case"联系电话":r.phoneNumber=this.searchValue;break}r.status=this.status,r.paymentTerms=this.paymentTerms,r.startDate=this.startDate,r.endDate=this.endDate,(0,a.getoutWarehouse)(r).then((function(t){null!=t.data.items&&t.data.items.forEach((function(e){1==e.status?e.status="提交":4==e.status?e.status="已完成":e.status="暂存",0==e.delivery?e.delivery="自提":1==e.delivery?e.delivery="送货":2==e.delivery?e.delivery="物流代收":e.delivery="物流不代收",1==e.paymentTerms?e.paymentTerms="现金付款":2==e.paymentTerms?e.paymentTerms="银行转账":3==e.paymentTerms?e.paymentTerms="微信":e.paymentTerms="挂账"})),e.showLoading({title:"加载中"}),200==t.code&&(e.hideLoading(),n.list=s?t.data.items:[].concat((0,i.default)(n.list),(0,i.default)(t.data.items||[])),n.total=t.data.total)}))},search:function(){this.params.pageNum=1,this.list=[],this.getList()},open:function(e){this.outWarehouseId=e.outWarehouseId,this.id=e.orderNo,this.$refs.popup.open()},cancel:function(){this.$refs.popup.close()},go:function(t){e.navigateTo({url:t})},openSearch:function(e){switch(e){case 0:this.searchList=["单据编号","车牌号","往来客户","联系电话"],this.$refs.search.open(),this.searchTitle="请选择搜索条件";break;case 1:this.searchList=["现金付款","银行转账","微信","挂账","全部"],this.$refs.search.open(),this.searchTitle="请选择结算方式";break;case 2:this.searchList=["暂存","提交","已完成","全部"],this.$refs.search.open(),this.searchTitle="请选择状态";break}this.openIndex=e},bindChange:function(e){this.currIndex=e.detail.value[0],this.currIndex1=e.detail.value[0],this.currIndex2=e.detail.value[0]},success:function(){switch(this.openIndex){case 0:this.currSearch=this.searchList[this.currIndex],this.value[0]=this.currIndex;break;case 1:this.currSearch1=this.searchList[this.currIndex1],this.value[0]=this.currIndex1,"现金付款"==this.currSearch1?this.paymentTerms=1:"银行转账"==this.currSearch1?this.paymentTerms=2:"微信"==this.currSearch1?this.paymentTerms=3:"挂账"==this.currSearch1?this.paymentTerms=0:this.paymentTerms="",this.search();break;case 2:this.currSearch2=this.searchList[this.currIndex2],this.value[0]=this.currIndex2,"提交"==this.currSearch2?this.status=1:"已完成"==this.currSearch2?this.status=4:"暂存"==this.currSearch2?this.status=0:this.status="",this.search();break}this.$refs.search.close()},close:function(){this.$refs.search.close()},maskClick:function(e){this.startDate=e[0],this.endDate=e[1],this.search()},openDate:function(){this.$refs.date.show()},choice:function(e,t){this.$set(this.groundingList[t],"choice",!e.choice)},goDetail:function(t){e.navigateTo({url:"/pages/sales/bookInvoicDetail?id=".concat(t.outWarehouseId)})},confirm:function(){var t=this;e.showLoading({title:"加载中"}),(0,a.deloutWarehouse)(this.outWarehouseId).then((function(s){if(e.hideLoading(),200==s.code){t.$refs.popup.close();var n=t.list.length;t.getList(1,n),e.showToast({title:"删除成功",icon:"none",duration:1500})}}))},edit:function(t){e.navigateTo({url:"/pages/sales/editOutbound?id="+t.outWarehouseId})}}};t.default=o}).call(this,s(2)["default"])},782:function(e,t,s){"use strict";s.r(t);var n=s(783),i=s.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){s.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a},783:function(e,t,s){}},[[776,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/sales/bookInvoicing.js.map